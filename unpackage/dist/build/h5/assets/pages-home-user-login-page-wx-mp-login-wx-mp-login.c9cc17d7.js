import{p as e,L as o,o as n,c as i,w as l,a as t,d as s,t as a,g as d,m as g,I as c,a0 as m,a1 as r,a2 as u,_ as h,f as p}from"./index.54cfdbb1.js";import{U as b}from"./utils.f6847d32.js";import{l as f}from"./loginSuccess.e8e6617c.js";import{_ as x}from"./logo.649191f6.js";import{_}from"./plugin-vue_export-helper.21dcd24c.js";var v=_({data:()=>({login:{mobile:void 0,smsCode:"9999",agreements:!1,code:void 0,state:void 0,type:31},loginForm:{mobilePlaceholder:"请输入手机号",smsCodePlaceholder:"请输入验证码",phoneLoginTip:"未注册的手机号验证通过后自动注册",submitBtnText:"绑定手机号码"}}),computed:{canLogin(){return this.login.mobile&&this.login.mobile.length&&this.isPhone},isPhone(){return this.login&&/^1\d{10}$/.test(this.login.mobile)}},onLoad(o){this.login.code=o.code,this.login.state=o.state,e("log","at pages/home/user/login-page/wx-mp-login/wx-mp-login.vue:53",this.login)},methods:{wxBindLogin(){const e=this;null!=this.login.code&&null!=this.login.state||b.postData("/member/auth/social-bind-login/no-sms-code",e.login,(function(e){0==e.code?f(e.data):1002014005==e.code?o({title:"操作太频繁",icon:"none"}):o({title:e.msg,icon:"none"})}),(function(){})),0!=this.login.agreements?b.postData("/member/auth/social-bind-login/no-sms-code",e.login,(function(e){0==e.code?f(e.data):1002014005==e.code?o({title:"操作太频繁",icon:"none"}):o({title:e.msg,icon:"none"})}),(function(){})):o({title:"请阅读用户服务协议",icon:"none"})},checkboxChange(o){e("log","at pages/home/user/login-page/wx-mp-login/wx-mp-login.vue:113",o),this.login.agreements=!this.login.agreements}}},[["render",function(e,o,b,f,_,v){const C=d,L=g,w=c,k=m,V=r,j=u,B=h,P=p;return n(),i(P,{class:"content"},{default:l((()=>[t(C,{class:"title"}),t(L,{class:"logo",src:x}),t(w,{class:"input-box",inputBorder:!1,modelValue:_.login.mobile,"onUpdate:modelValue":o[0]||(o[0]=e=>_.login.mobile=e),placeholder:_.loginForm.mobilePlaceholder},null,8,["modelValue","placeholder"]),t(j,{onChange:v.checkboxChange},{default:l((()=>[t(V,null,{default:l((()=>[t(k,{modelValue:_.login.agreements,"onUpdate:modelValue":o[1]||(o[1]=e=>_.login.agreements=e),checked:_.login.agreements},null,8,["modelValue","checked"]),t(C,{class:"tip"},{default:l((()=>[s("同意用户服务协议&隐私政策")])),_:1})])),_:1})])),_:1},8,["onChange"]),t(B,{class:"send-btn",disabled:!v.canLogin,type:v.canLogin?"primary":"default",onClick:v.wxBindLogin},{default:l((()=>[s(a(_.loginForm.submitBtnText),1)])),_:1},8,["disabled","type","onClick"])])),_:1})}],["__scopeId","data-v-cf2213ec"]]);export{v as default};
