import{o as t,c as e,w as a,b as l,v as s,n,f as u,a as i,e as d,d as o,t as r,g as c,J as f,K as p,p as _,L as g,r as m,M as h,N as y}from"./index.5c7ed4f2.js";import{_ as b}from"./uni-dateformat.27840f51.js";import{r as w,_ as x}from"./uni-app.es.bad6faa3.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as v,a as j}from"./uni-list.66ec7aa0.js";import{U as C}from"./utils.e3e4687e.js";var $=k({name:"uniCol",props:{span:{type:Number,default:24},offset:{type:Number,default:-1},pull:{type:Number,default:-1},push:{type:Number,default:-1},xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},data:()=>({gutter:0,sizeClass:"",parentWidth:0,nvueWidth:0,marginLeft:0,right:0,left:0}),created(){let t=this.$parent;for(;t&&"uniRow"!==t.$options.componentName;)t=t.$parent;this.updateGutter(t.gutter),t.$watch("gutter",(t=>{this.updateGutter(t)}))},computed:{sizeList(){let{span:t,offset:e,pull:a,push:l}=this;return{span:t,offset:e,pull:a,push:l}},pointClassList(){let t=[];return["xs","sm","md","lg","xl"].forEach((e=>{const a=this[e];"number"==typeof a?t.push(`uni-col-${e}-${a}`):"object"==typeof a&&a&&Object.keys(a).forEach((l=>{t.push("span"===l?`uni-col-${e}-${a[l]}`:`uni-col-${e}-${l}-${a[l]}`)}))})),t.join(" ")}},methods:{updateGutter(t){t=Number(t),isNaN(t)||(this.gutter=t/2)}},watch:{sizeList:{immediate:!0,handler(t){let e=[];for(let a in t){const l=t[a];!l&&0!==l||-1===l||e.push("span"===a?`uni-col-${l}`:`uni-col-${a}-${l}`)}this.sizeClass=e.join(" ")}}}},[["render",function(i,d,o,r,c,f){const p=u;return t(),e(p,{class:s(["uni-col",c.sizeClass,f.pointClassList]),style:n({paddingLeft:`${Number(c.gutter)}rpx`,paddingRight:`${Number(c.gutter)}rpx`})},{default:a((()=>[l(i.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}],["__scopeId","data-v-931355ca"]]);var W=k({name:"uniRow",componentName:"uniRow",props:{type:String,gutter:Number,justify:{type:String,default:"start"},align:{type:String,default:"top"},width:{type:[String,Number],default:750}},created(){},computed:{marginValue(){return this.gutter?-this.gutter/2:0},typeClass(){return"flex"===this.type?"uni-row--flex":""},justifyClass(){return"start"!==this.justify?`uni-row--flex-justify-${this.justify}`:""},alignClass(){return"top"!==this.align?`uni-row--flex-align-${this.align}`:""}}},[["render",function(i,d,o,r,c,f){const p=u;return t(),e(p,{class:s(["uni-row",f.typeClass,f.justifyClass,f.alignClass]),style:n({marginLeft:`${Number(f.marginValue)}rpx`,marginRight:`${Number(f.marginValue)}rpx`})},{default:a((()=>[l(i.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}],["__scopeId","data-v-4d73f177"]]);var N=k({name:"UniSection",props:{type:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""}},data:()=>({}),watch:{title(t){uni.report&&""!==t&&uni.report("title",t)}},methods:{onClick(){this.$emit("click")}}},[["render",function(n,f,p,_,g,m){const h=u,y=c;return t(),e(h,{class:"uni-section",nvue:""},{default:a((()=>[p.type?(t(),e(h,{key:0,class:"uni-section__head"},{default:a((()=>[i(h,{class:s([p.type,"uni-section__head-tag"])},null,8,["class"])])),_:1})):d("",!0),i(h,{class:"uni-section__content"},{default:a((()=>[i(y,{class:s([{distraction:!p.subTitle},"uni-section__content-title"])},{default:a((()=>[o(r(p.title),1)])),_:1},8,["class"]),p.subTitle?(t(),e(y,{key:0,class:"uni-section__content-sub"},{default:a((()=>[o(r(p.subTitle),1)])),_:1})):d("",!0)])),_:1}),l(n.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-f28facba"]]);var T=k({data:()=>({id:void 0,title:"title",data:{},gutter:0,nvueWidth:730,nodes_abstract_content:"",nodes_content:""}),onLoad(t){t.id&&(this.id=t.id),t.title&&(this.title=t.title,f({title:t.title}));const e=this;let a=location.href;C.postForm("/member/wx-mp/create-jsapi-signature",{url:a},(function(t){e.init(t.data)}),(function(){}))},onReady(){this.id?this.loadOne():p({icon:"none",title:"加载成功"})},methods:{loadOne(){const t=this;C.getData("/content/detail?id="+t.id,{},(function(e){t.data=e.data,t.nodes_content=t.formatRichText(t.data.content),t.nodes_abstract_content=t.formatRichText(t.data.abstractContent)}),(function(){}))},formatRichText:t=>t&&0!=t.length?t=(t=(t=(t=(t=(t=(t=(t=t.replace(/&quot;/g,'"')).replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&nbsp;/g," ")).replace(/<p/gi,'<p class="p_class" ')).replace(/<span/gi,'<span class="span_class" ')).replace(/<img/gi,'<img class="img_class" '):t,pay(){if(!C.hasLogin())return void C.toLogin();const t=this;C.postData("/content/pay/create",{id:t.id},(function(e){_("log","at pages/news/detail.vue:225",e),0===e.code&&(t.init(e.data),wx.chooseWXPay({timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,package:"",signType:"",paySign:"",success:function(t){}}))}),(function(){}))},footerClick(t){p({title:t,icon:"none"})},init(t){_("log","at pages/news/detail.vue:250",t),jWeixin.config({debug:!0,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["chooseWXPay"]}),jWeixin.ready((function(){_("log","at pages/news/detail.vue:261","微信支付验证通过")})),jWeixin.error((function(t){_("log","at pages/news/detail.vue:265","微信验证失败")})),jWeixin.checkJsApi({jsApiList:["chooseWXPay"],success:function(t){_("log","at pages/news/detail.vue:272","微信检测JS接口结果",t)}})}}},[["render",function(l,s,n,f,p,_){const k=u,C=c,T=w(m("uni-dateformat"),b),S=w(m("uni-col"),$),L=w(m("uni-row"),W),z=w(m("uni-list-item"),v),R=w(m("uni-section"),N),O=h,A=y,I=w(m("uni-list"),j),M=w(m("uni-icons"),x);return t(),e(k,{class:"article"},{default:a((()=>[i(k,{class:"article-title"},{default:a((()=>[o(r(p.title),1)])),_:1}),p.data?(t(),e(I,{key:0,border:!1},{default:a((()=>[i(z,null,{body:a((()=>[i(k,{class:"header-content"},{default:a((()=>[i(L,{gutter:p.gutter,width:p.nvueWidth,class:"title-content"},{default:a((()=>[p.data.channel?(t(),e(S,{key:0,span:23,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("频道: "+r(p.data.channel.label)+"  ",1)])),_:1}),i(C,null,{default:a((()=>[o("日期: "),i(T,{date:p.data.bizTime,format:"yyyy年MM月dd日"},null,8,["date"]),o("    ")])),_:1}),i(C,null,{default:a((()=>[o("阅读: "+r(p.data.readCount)+"   ",1)])),_:1}),i(C,null,{default:a((()=>[o("点赞: "+r(p.data.likesCount)+"   ",1)])),_:1})])),_:1})):d("",!0)])),_:1},8,["gutter","width"]),i(L,{gutter:p.gutter,width:p.nvueWidth,class:"text-center author"},{default:a((()=>[i(S,{span:24},{default:a((()=>[i(C,null,{default:a((()=>[o("作者："+r(p.data.author),1)])),_:1})])),_:1})])),_:1},8,["gutter","width"]),p.data.industry?(t(),e(L,{key:0,gutter:p.gutter,width:p.nvueWidth},{default:a((()=>[i(S,{span:10,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("行业分类：")])),_:1})])),_:1}),i(S,{span:12},{default:a((()=>[i(C,null,{default:a((()=>[o(r(p.data.industry.label),1)])),_:1})])),_:1})])),_:1},8,["gutter","width"])):d("",!0),p.data.region?(t(),e(L,{key:1,gutter:p.gutter,width:p.nvueWidth},{default:a((()=>[i(S,{span:10,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("适用区域：")])),_:1})])),_:1}),i(S,{span:12},{default:a((()=>[i(C,null,{default:a((()=>[o(r(p.data.region),1)])),_:1})])),_:1})])),_:1},8,["gutter","width"])):d("",!0),p.data.startAmount&&0==p.data.startAmount.isEmpty?(t(),e(L,{key:2,gutter:p.gutter,width:p.nvueWidth},{default:a((()=>[i(S,{span:10,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("启动资金：")])),_:1})])),_:1}),i(S,{span:12},{default:a((()=>[i(C,null,{default:a((()=>[o(r(p.data.startAmount.min)+"～"+r(p.data.startAmount.max)+" 元",1)])),_:1})])),_:1})])),_:1},8,["gutter","width"])):d("",!0),p.data.income&&0==p.data.income.isEmpty?(t(),e(L,{key:3,gutter:p.gutter,width:p.nvueWidth},{default:a((()=>[i(S,{span:10,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("月收入预期：")])),_:1})])),_:1}),i(S,{span:12},{default:a((()=>[i(C,null,{default:a((()=>[o(r(p.data.income.min)+" ～ "+r(p.data.income.max)+" 元",1)])),_:1})])),_:1})])),_:1},8,["gutter","width"])):d("",!0),p.data.payBackm&&0==p.data.payBackm.isEmpty?(t(),e(L,{key:4,gutter:p.gutter,width:p.nvueWidth},{default:a((()=>[i(S,{span:10,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("投资回报周期：")])),_:1})])),_:1}),i(S,{span:12},{default:a((()=>[i(C,null,{default:a((()=>[o(r(p.data.payBack.min)+" ～ "+r(p.data.payBack.max)+" 个月",1)])),_:1})])),_:1})])),_:1},8,["gutter","width"])):d("",!0),p.data.operationMode&&p.data.operationMode.label?(t(),e(L,{key:5,gutter:p.gutter,width:p.nvueWidth},{default:a((()=>[i(S,{span:10,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("运作模式：")])),_:1})])),_:1}),i(S,{span:12},{default:a((()=>[i(C,null,{default:a((()=>[o(r(p.data.operationMode.label),1)])),_:1})])),_:1})])),_:1},8,["gutter","width"])):d("",!0),p.data.skilled&&p.data.skilled.label?(t(),e(L,{key:6,gutter:p.gutter,width:p.nvueWidth},{default:a((()=>[i(S,{span:10,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("行业经验和技能要求：")])),_:1})])),_:1}),i(S,{span:12},{default:a((()=>[i(C,null,{default:a((()=>[o(r(p.data.skilled.label),1)])),_:1})])),_:1})])),_:1},8,["gutter","width"])):d("",!0),p.data.caseType&&p.data.caseType.label?(t(),e(L,{key:7,gutter:p.gutter,width:p.nvueWidth},{default:a((()=>[i(S,{span:10,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("案例类型：")])),_:1})])),_:1}),i(S,{span:12},{default:a((()=>[i(C,null,{default:a((()=>[o(r(p.data.caseType.label),1)])),_:1})])),_:1})])),_:1},8,["gutter","width"])):d("",!0),p.data.caseYear?(t(),e(L,{key:8,gutter:p.gutter,width:p.nvueWidth},{default:a((()=>[i(S,{span:10,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("案例发生时间：")])),_:1})])),_:1}),i(S,{span:12},{default:a((()=>[i(C,null,{default:a((()=>[o(r(p.data.caseYear)+" 年",1)])),_:1})])),_:1})])),_:1},8,["gutter","width"])):d("",!0),p.data.courseType&&p.data.courseType.label?(t(),e(L,{key:9,gutter:p.gutter,width:p.nvueWidth},{default:a((()=>[i(S,{span:10,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("干货类型：")])),_:1})])),_:1}),i(S,{span:12},{default:a((()=>[i(C,null,{default:a((()=>[o(r(p.data.courseType.label),1)])),_:1})])),_:1})])),_:1},8,["gutter","width"])):d("",!0),p.data.technical&&p.data.technical.label?(t(),e(L,{key:10,gutter:p.gutter,width:p.nvueWidth},{default:a((()=>[i(S,{span:10,offset:1},{default:a((()=>[i(C,null,{default:a((()=>[o("技能储备要求：")])),_:1})])),_:1}),i(S,{span:12},{default:a((()=>[i(C,null,{default:a((()=>[o(r(p.data.technical.label),1)])),_:1})])),_:1})])),_:1},8,["gutter","width"])):d("",!0)])),_:1})])),_:1}),i(k,{class:"content-title"},{default:a((()=>[i(R,{title:"摘要",type:"line"})])),_:1}),p.data.abstractContent?(t(),e(z,{key:0,border:!1},{body:a((()=>[i(k,{class:"content-body"},{default:a((()=>[i(O,{type:"text",nodes:p.nodes_abstract_content},null,8,["nodes"])])),_:1})])),_:1})):d("",!0),i(k,{class:"content-title"},{default:a((()=>[i(R,{title:"正文",type:"line"})])),_:1}),i(z,{border:!1},{body:a((()=>[i(k,{class:"content-body"},{default:a((()=>[i(O,{type:"text",nodes:p.nodes_content},null,8,["nodes"]),0===p.data.makePublic?(t(),e(k,{key:0,class:"pay-message"},{default:a((()=>[i(k,{class:"pay-message-text text-center",onClick:_.pay},{default:a((()=>[i(C,null,{default:a((()=>[o("¥"+r(p.data.readIncome)+"元，阅读全文 》",1)])),_:1})])),_:1},8,["onClick"]),i(k,{class:"pay-message-text text-center"},{default:a((()=>[i(C,null,{default:a((()=>[o("加入会员，免费阅读")])),_:1})])),_:1}),i(k,{class:"pay-message-button-area text-center"},{default:a((()=>[i(k,{class:"pay-message-text"},{default:a((()=>[o("你也可以分享你的项目来赚钱！")])),_:1}),i(A,{type:"primary",class:"share-button",plain:"true"},{default:a((()=>[o("立即去分享")])),_:1})])),_:1})])),_:1})):d("",!0)])),_:1})])),_:1})])),_:1})):d("",!0),i(k,{class:"footer"},{default:a((()=>[i(k,{onClick:s[0]||(s[0]=g((t=>_.footerClick("转发")),["stop"]))},{default:a((()=>[i(C,{class:"footer-box__item"},{default:a((()=>[i(M,{"custom-prefix":"iconfont",type:"icon-31zhuanfa",size:"20"}),o(" 转发 ")])),_:1})])),_:1}),i(k,{onClick:s[1]||(s[1]=g((t=>_.footerClick("暂未开通")),["stop"]))},{default:a((()=>[i(C,{class:"footer-box__item"},{default:a((()=>[i(M,{"custom-prefix":"iconfont",type:"icon-31pinglun",size:"20"}),o(" 评论 ")])),_:1})])),_:1}),i(k,{onClick:s[2]||(s[2]=g((t=>_.footerClick("点赞")),["stop"]))},{default:a((()=>[i(C,{class:"footer-box__item"},{default:a((()=>[i(M,{"custom-prefix":"iconfont",type:"icon-dianzan",size:"20"}),o(" 点赞 ")])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-03c024d8"]]);export{T as default};
